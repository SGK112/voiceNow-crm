<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VoiceFlow CRM - AI Voice Agents That Never Miss a Call</title>
    <meta name="description" content="AI-powered voice agents that answer every call, book appointments, and grow your business 24/7. Built for contractors and field service businesses.">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #3b82f6;
            --primary-dark: #2563eb;
            --primary-light: #60a5fa;
            --accent: #f59e0b;
            --dark: #0f172a;
            --gray-900: #1e293b;
            --gray-700: #334155;
            --gray-600: #475569;
            --gray-400: #94a3b8;
            --gray-200: #e2e8f0;
            --gray-100: #f1f5f9;
            --gray-50: #f8fafc;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            color: var(--gray-900);
            line-height: 1.6;
            background: #fff;
            -webkit-font-smoothing: antialiased;
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid var(--gray-200);
        }

        .nav-container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 16px 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 24px;
            font-weight: 800;
            color: var(--dark);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .logo-icon {
            font-size: 28px;
        }

        .nav-links {
            display: flex;
            gap: 32px;
            align-items: center;
        }

        .nav-link {
            color: var(--gray-700);
            text-decoration: none;
            font-weight: 500;
            font-size: 15px;
            transition: color 0.2s;
        }

        .nav-link:hover {
            color: var(--primary);
        }

        .btn {
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 15px;
            text-decoration: none;
            transition: all 0.2s;
            display: inline-block;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
            border: none;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-1px);
        }

        .btn-secondary {
            background: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
        }

        .btn-secondary:hover {
            background: var(--gray-50);
        }

        /* Hero Section */
        .hero {
            padding: 140px 24px 80px;
            max-width: 1280px;
            margin: 0 auto;
            text-align: center;
        }

        .hero h1 {
            font-size: 56px;
            font-weight: 800;
            line-height: 1.1;
            color: var(--dark);
            margin-bottom: 24px;
            letter-spacing: -0.02em;
        }

        .gradient-text {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero p {
            font-size: 20px;
            color: var(--gray-600);
            max-width: 720px;
            margin: 0 auto 40px;
            line-height: 1.7;
        }

        .hero-cta {
            display: flex;
            gap: 16px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .hero .btn {
            padding: 14px 32px;
            font-size: 16px;
        }

        .trust-badges {
            display: flex;
            gap: 40px;
            justify-content: center;
            margin-top: 60px;
            flex-wrap: wrap;
        }

        .trust-badge {
            text-align: center;
        }

        .trust-badge-number {
            font-size: 36px;
            font-weight: 800;
            color: var(--primary);
            line-height: 1;
        }

        .trust-badge-label {
            font-size: 14px;
            color: var(--gray-600);
            margin-top: 8px;
        }

        /* Features Section */
        .features {
            padding: 100px 24px;
            background: var(--gray-50);
        }

        .container {
            max-width: 1280px;
            margin: 0 auto;
        }

        .section-header {
            text-align: center;
            margin-bottom: 60px;
        }

        .section-title {
            font-size: 42px;
            font-weight: 800;
            color: var(--dark);
            margin-bottom: 16px;
            letter-spacing: -0.01em;
        }

        .section-subtitle {
            font-size: 18px;
            color: var(--gray-600);
            max-width: 720px;
            margin: 0 auto;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 32px;
        }

        .feature-card {
            background: white;
            padding: 32px;
            border-radius: 16px;
            border: 1px solid var(--gray-200);
            transition: all 0.3s;
        }

        .feature-card:hover {
            border-color: var(--primary);
            box-shadow: 0 12px 40px rgba(59, 130, 246, 0.15);
            transform: translateY(-4px);
        }

        .feature-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin-bottom: 20px;
        }

        .feature-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 12px;
        }

        .feature-desc {
            color: var(--gray-600);
            line-height: 1.6;
        }

        /* Pricing Section */
        .pricing {
            padding: 100px 24px;
        }

        .pricing-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 32px;
            max-width: 1100px;
            margin: 0 auto;
        }

        .pricing-card {
            background: white;
            padding: 40px;
            border-radius: 16px;
            border: 2px solid var(--gray-200);
            position: relative;
        }

        .pricing-card.featured {
            border-color: var(--primary);
            box-shadow: 0 20px 60px rgba(59, 130, 246, 0.2);
        }

        .pricing-badge {
            position: absolute;
            top: -12px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--accent);
            color: white;
            padding: 4px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
        }

        .pricing-plan {
            font-size: 18px;
            font-weight: 700;
            color: var(--gray-900);
            margin-bottom: 12px;
        }

        .pricing-price {
            font-size: 48px;
            font-weight: 800;
            color: var(--dark);
            margin-bottom: 8px;
        }

        .pricing-price span {
            font-size: 20px;
            font-weight: 500;
            color: var(--gray-600);
        }

        .pricing-features {
            list-style: none;
            margin: 32px 0;
        }

        .pricing-features li {
            padding: 12px 0;
            color: var(--gray-700);
            display: flex;
            align-items: flex-start;
            gap: 12px;
        }

        .pricing-features li::before {
            content: "‚úì";
            color: var(--primary);
            font-weight: 700;
            flex-shrink: 0;
        }

        /* CTA Section */
        .cta-section {
            padding: 100px 24px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            text-align: center;
            color: white;
        }

        .cta-section h2 {
            font-size: 42px;
            font-weight: 800;
            margin-bottom: 20px;
        }

        .cta-section p {
            font-size: 18px;
            opacity: 0.95;
            max-width: 600px;
            margin: 0 auto 40px;
        }

        .cta-section .btn {
            background: white;
            color: var(--primary);
        }

        .cta-section .btn:hover {
            background: var(--gray-50);
        }

        /* Footer */
        footer {
            padding: 60px 24px 40px;
            background: var(--dark);
            color: var(--gray-400);
        }

        .footer-content {
            max-width: 1280px;
            margin: 0 auto;
            text-align: center;
        }

        .footer-links {
            display: flex;
            gap: 32px;
            justify-content: center;
            margin-bottom: 32px;
            flex-wrap: wrap;
        }

        .footer-link {
            color: var(--gray-400);
            text-decoration: none;
        }

        .footer-link:hover {
            color: white;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .hero h1 {
                font-size: 36px;
            }

            .hero p {
                font-size: 18px;
            }

            .section-title {
                font-size: 32px;
            }

            .features-grid {
                grid-template-columns: 1fr;
            }

            .pricing-grid {
                grid-template-columns: 1fr;
            }
        }

        /* ============================================
           AI CHAT WIDGET STYLES
           ============================================ */

        /* AI Chat Toggle Button */
        .ai-chat-toggle {
            position: fixed;
            bottom: 24px;
            right: 24px;
            width: 60px;
            height: 60px;
            background: #3b82f6;
            color: #fff;
            border: none;
            border-radius: 50%;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.25);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            transition: all 0.2s ease;
            z-index: 10001;
            padding: 0;
        }

        .ai-chat-toggle:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 16px rgba(59, 130, 246, 0.35);
            background: #2563eb;
        }

        .ai-chat-toggle:active {
            transform: scale(0.95);
        }

        .ai-chat-toggle.hidden {
            opacity: 0;
            pointer-events: none;
            transform: scale(0.8);
        }

        /* Hybrid Chat Widget */
        .hybrid-chat-widget {
            position: fixed;
            bottom: 100px;
            right: 24px;
            width: 400px;
            height: 600px;
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            z-index: 10000;
            transform: translateY(20px);
            opacity: 0;
            pointer-events: none;
            transition: all 0.25s ease-out;
        }

        .hybrid-chat-widget.active {
            transform: translateY(0);
            opacity: 1;
            pointer-events: all;
        }

        /* Widget Header */
        .hybrid-chat-header {
            background: #3b82f6;
            color: #fff;
            padding: 18px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            flex-shrink: 0;
        }

        .hybrid-chat-header-content {
            display: flex;
            align-items: center;
            gap: 12px;
            flex: 1;
        }

        .header-icon {
            width: 32px;
            height: 32px;
            background: rgba(255, 255, 255, 0.15);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }

        .header-text {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .hybrid-chat-header h3 {
            margin: 0;
            font-size: 15px;
            font-weight: 600;
            line-height: 1.4;
        }

        .header-subtitle {
            font-size: 12px;
            opacity: 0.85;
            font-weight: 400;
        }

        .hybrid-chat-close {
            background: rgba(255, 255, 255, 0.15);
            border: none;
            color: #fff;
            cursor: pointer;
            font-size: 20px;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            border-radius: 6px;
            font-weight: 300;
        }

        .hybrid-chat-close:hover {
            background: rgba(255, 255, 255, 0.25);
        }

        .hybrid-chat-close:active {
            transform: scale(0.95);
        }

        /* Mode Toggle */
        .mode-toggle {
            display: flex;
            gap: 8px;
            padding: 12px 16px;
            background: #f8fafc;
            border-bottom: 1px solid #e2e8f0;
        }

        .mode-btn {
            flex: 1;
            padding: 8px 16px;
            border: 1px solid #e2e8f0;
            background: #fff;
            border-radius: 8px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 600;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }

        .mode-btn:hover {
            background: #f8fafc;
        }

        .mode-btn.active {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: #fff;
            border-color: #3b82f6;
        }

        /* Chat Messages Area */
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 16px;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .chat-message {
            display: flex;
            gap: 8px;
            max-width: 85%;
        }

        .chat-message.user {
            align-self: flex-end;
            flex-direction: row-reverse;
        }

        .message-content {
            background: #f1f5f9;
            padding: 10px 14px;
            border-radius: 12px;
            font-size: 14px;
            line-height: 1.5;
        }

        .chat-message.user .message-content {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: #fff;
        }

        .message-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            flex-shrink: 0;
        }

        .chat-message.user .message-avatar {
            background: linear-gradient(135deg, #8b5cf6 0%, #3b82f6 100%);
        }

        /* Thinking Indicator */
        .thinking-indicator {
            display: flex;
            gap: 8px;
            max-width: 85%;
        }

        .thinking-bubbles {
            background: #f1f5f9;
            padding: 16px 20px;
            border-radius: 12px;
            display: flex;
            gap: 6px;
            align-items: center;
        }

        .thinking-bubble {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #64748b;
            animation: thinking 1.4s ease-in-out infinite;
        }

        .thinking-bubble:nth-child(1) {
            animation-delay: 0s;
        }

        .thinking-bubble:nth-child(2) {
            animation-delay: 0.2s;
        }

        .thinking-bubble:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes thinking {
            0%, 60%, 100% {
                transform: translateY(0);
                opacity: 0.7;
            }
            30% {
                transform: translateY(-10px);
                opacity: 1;
            }
        }

        /* Voice Mode */
        .voice-mode-container {
            flex: 1;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px 20px;
            background: linear-gradient(135deg, #f8fafc 0%, #ffffff 100%);
        }

        .voice-mode-container.active {
            display: flex;
        }

        .demo-input {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid #e2e8f0;
            border-radius: 10px;
            font-size: 14px;
            font-family: inherit;
            outline: none;
            transition: border-color 0.2s;
        }

        .demo-input:focus {
            border-color: #3b82f6;
        }

        .demo-submit-btn {
            width: 100%;
            padding: 14px 20px;
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: #fff;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            font-size: 15px;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .demo-submit-btn:hover {
            box-shadow: 0 6px 16px rgba(59, 130, 246, 0.3);
            transform: translateY(-1px);
        }

        .demo-submit-btn:disabled {
            background: #94a3b8;
            cursor: not-allowed;
            transform: none;
        }

        /* Chat Input */
        .chat-input-container {
            padding: 16px;
            border-top: 1px solid #e2e8f0;
            background: #fff;
        }

        .chat-input-wrapper {
            display: flex;
            gap: 8px;
        }

        .chat-input {
            flex: 1;
            padding: 10px 14px;
            border: 1px solid #e2e8f0;
            border-radius: 10px;
            font-size: 14px;
            font-family: inherit;
            outline: none;
            transition: border-color 0.2s;
        }

        .chat-input:focus {
            border-color: #3b82f6;
        }

        .chat-send-btn {
            padding: 10px 20px;
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: #fff;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.2s;
        }

        .chat-send-btn:hover {
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
            transform: translateY(-1px);
        }

        .chat-send-btn:disabled {
            background: #e2e8f0;
            cursor: not-allowed;
        }

        /* Mobile Responsive for Chat Widget */
        @media (max-width: 640px) {
            .hybrid-chat-widget {
                bottom: 0;
                right: 0;
                left: 0;
                width: 100%;
                height: 100%;
                max-height: 100vh;
                border-radius: 0;
            }

            .ai-chat-toggle {
                bottom: 20px;
                right: 20px;
                width: 56px;
                height: 56px;
            }

            .hybrid-chat-close {
                width: 44px;
                height: 44px;
                font-size: 24px;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <a href="/" class="logo">
                <span class="logo-icon">üéôÔ∏è</span>
                <span>VoiceFlow</span>
            </a>
            <div class="nav-links">
                <a href="#features" class="nav-link">Features</a>
                <a href="#pricing" class="nav-link">Pricing</a>
                <a href="/login" class="btn btn-primary">Get Started</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <h1>
            AI Voice Agents That<br>
            <span class="gradient-text">Never Miss a Call</span>
        </h1>
        <p>
            While other AI tools handle emails and social posts, VoiceFlow answers your phone 24/7.
            Built for contractors and field services who can't afford to miss $10K+ jobs.
        </p>
        <div class="hero-cta">
            <a href="/login" class="btn btn-primary">Start Free Trial</a>
            <a href="#features" class="btn btn-secondary">See How It Works</a>
        </div>
        <div class="trust-badges">
            <div class="trust-badge">
                <div class="trust-badge-number">98%</div>
                <div class="trust-badge-label">Answer Rate</div>
            </div>
            <div class="trust-badge">
                <div class="trust-badge-number">24/7</div>
                <div class="trust-badge-label">Always Available</div>
            </div>
            <div class="trust-badge">
                <div class="trust-badge-number">60s</div>
                <div class="trust-badge-label">Setup Time</div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="features">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">
                    Everything You Need to <span class="gradient-text">Close More Deals</span>
                </h2>
                <p class="section-subtitle">
                    AI voice agents, workflow automation, and CRM - all in one platform
                </p>
            </div>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">üìû</div>
                    <h3 class="feature-title">Human-Sounding Voice AI</h3>
                    <p class="feature-desc">
                        ElevenLabs-powered voice that customers can't tell from a real person.
                        Handles calls, books appointments, and answers FAQs 24/7.
                    </p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">‚öôÔ∏è</div>
                    <h3 class="feature-title">Visual Workflow Automation</h3>
                    <p class="feature-desc">
                        Connect calls to your calendar, CRM, email, and 100+ integrations.
                        No coding required - just drag and drop.
                    </p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üìä</div>
                    <h3 class="feature-title">Built-in CRM</h3>
                    <p class="feature-desc">
                        Track every lead, call, and conversation. Real-time analytics,
                        call recordings, and transcripts included.
                    </p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üîß</div>
                    <h3 class="feature-title">Contractor-First Design</h3>
                    <p class="feature-desc">
                        Built specifically for roofers, plumbers, HVAC, and field services.
                        Understands construction industry language and workflows.
                    </p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üí∞</div>
                    <h3 class="feature-title">Revenue-Focused</h3>
                    <p class="feature-desc">
                        Stop losing $10K+ jobs to voicemail. Every answered call is a
                        potential customer. Watch your revenue grow.
                    </p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">‚ö°</div>
                    <h3 class="feature-title">60-Second Setup</h3>
                    <p class="feature-desc">
                        Forward your business line and train your AI in minutes.
                        No complicated installation or technical knowledge needed.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Pricing Section -->
    <section id="pricing" class="pricing">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">
                    Simple, <span class="gradient-text">Transparent Pricing</span>
                </h2>
                <p class="section-subtitle">
                    Start free. Scale as you grow. No hidden fees.
                </p>
            </div>
            <div class="pricing-grid">
                <div class="pricing-card">
                    <div class="pricing-plan">Starter</div>
                    <div class="pricing-price">$49<span>/mo</span></div>
                    <ul class="pricing-features">
                        <li>1 AI Voice Agent</li>
                        <li>500 Minutes/Month</li>
                        <li>Unlimited Workflows</li>
                        <li>Basic CRM</li>
                        <li>Call Recordings</li>
                    </ul>
                    <a href="/login" class="btn btn-secondary" style="width: 100%;">Start Free Trial</a>
                </div>
                <div class="pricing-card featured">
                    <div class="pricing-badge">Most Popular</div>
                    <div class="pricing-plan">Pro</div>
                    <div class="pricing-price">$149<span>/mo</span></div>
                    <ul class="pricing-features">
                        <li>3 AI Voice Agents</li>
                        <li>2,000 Minutes/Month</li>
                        <li>Unlimited Workflows</li>
                        <li>Advanced CRM</li>
                        <li>Priority Support</li>
                    </ul>
                    <a href="/login" class="btn btn-primary" style="width: 100%;">Get Started Now</a>
                </div>
                <div class="pricing-card">
                    <div class="pricing-plan">Enterprise</div>
                    <div class="pricing-price" style="font-size: 32px;">Custom</div>
                    <ul class="pricing-features">
                        <li>Unlimited AI Agents</li>
                        <li>Unlimited Minutes</li>
                        <li>Dedicated Support</li>
                        <li>Custom Integrations</li>
                        <li>White-Label Options</li>
                    </ul>
                    <a href="mailto:sales@remodely.ai" class="btn btn-secondary" style="width: 100%;">Contact Sales</a>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section">
        <h2>Ready to Answer Every Call?</h2>
        <p>Start your 14-day free trial. No credit card required. Setup in minutes.</p>
        <a href="/login" class="btn">Start Free Trial ‚Üí</a>
    </section>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-links">
                <a href="#features" class="footer-link">Features</a>
                <a href="#pricing" class="footer-link">Pricing</a>
                <a href="/login" class="footer-link">Sign In</a>
                <a href="mailto:support@remodely.ai" class="footer-link">Support</a>
            </div>
            <p>&copy; 2025 VoiceFlow CRM by Remodely.ai. All rights reserved.</p>
        </div>
    </footer>

    <!-- AI Chat Toggle Button -->
    <button class="ai-chat-toggle" id="aiChatToggle" aria-label="Toggle AI Assistant">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
        </svg>
    </button>

    <!-- Hybrid Chat Widget -->
    <div class="hybrid-chat-widget" id="hybridChatWidget">
        <!-- Header -->
        <div class="hybrid-chat-header">
            <div class="hybrid-chat-header-content">
                <div class="header-icon">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                    </svg>
                </div>
                <div class="header-text">
                    <h3>VoiceFlow AI</h3>
                    <div class="header-subtitle">We typically reply instantly</div>
                </div>
            </div>
            <button class="hybrid-chat-close" id="chatClose" aria-label="Close">√ó</button>
        </div>

        <!-- Mode Toggle -->
        <div class="mode-toggle">
            <button class="mode-btn active" id="chatModeBtn">üí¨ Chat</button>
            <button class="mode-btn" id="voiceModeBtn">üìû Call Me</button>
        </div>

        <!-- Chat Mode -->
        <div class="chat-messages" id="chatMessages">
            <div class="chat-message">
                <div class="message-avatar">ü§ñ</div>
                <div class="message-content">
                    Hi! Ask me anything about VoiceFlow CRM - our pricing, features, or how we can help automate your business.
                </div>
            </div>
        </div>

        <!-- Voice Mode -->
        <div class="voice-mode-container" id="voiceModeContainer">
            <div style="display: flex; flex-direction: column; align-items: center; justify-content: flex-start; width: 100%; padding: 0;">
                <!-- Status Text -->
                <div class="voice-status" style="margin-bottom: 24px; text-align: center;">
                    <div class="voice-status-title" id="voiceStatusTitle" style="font-size: 20px; font-weight: 700; color: #0f172a; margin-bottom: 8px;">
                        Get a Live Voice Demo
                    </div>
                    <div class="voice-status-text" id="voiceStatusText" style="font-size: 14px; line-height: 1.6; color: #64748b;">
                        Experience our AI voice agent! Enter your details and we'll call you instantly.
                    </div>
                </div>

                <!-- Demo Request Form -->
                <div id="voiceDemoForm" style="width: 100%; max-width: 420px;">
                    <div style="display: flex; flex-direction: column; gap: 12px;">
                        <input
                            type="text"
                            id="demoNameInput"
                            placeholder="Your Name"
                            class="demo-input"
                        />
                        <input
                            type="email"
                            id="demoEmailInput"
                            placeholder="Email Address (optional)"
                            class="demo-input"
                        />
                        <input
                            type="tel"
                            id="demoPhoneInput"
                            placeholder="Phone Number (e.g., +1 555-123-4567)"
                            class="demo-input"
                        />
                        <button
                            id="requestCallBtn"
                            class="demo-submit-btn"
                        >
                            <span id="btnIcon">üìû</span>
                            <span id="btnText">Call Me Now</span>
                        </button>
                    </div>
                    <p style="font-size: 12px; color: #94a3b8; text-align: center; margin-top: 16px; line-height: 1.5;">
                        <span style="color: #3b82f6; font-weight: 700;">‚úì</span> Instant callback &nbsp;
                        <span style="color: #3b82f6; font-weight: 700;">‚úì</span> No app needed &nbsp;
                        <span style="color: #3b82f6; font-weight: 700;">‚úì</span> Works on any phone
                    </p>
                </div>

                <!-- Status Message (Hidden initially) -->
                <div id="voiceStatusMessage" style="display: none; margin-top: 20px; padding: 14px 20px; border-radius: 10px; text-align: center; font-size: 14px; font-weight: 500; max-width: 420px; width: 100%;"></div>
            </div>
        </div>

        <!-- Chat Input (hidden in voice mode) -->
        <div class="chat-input-container" id="chatInputContainer">
            <div class="chat-input-wrapper">
                <input type="text" class="chat-input" id="chatInput" placeholder="Type your message...">
                <button class="chat-send-btn" id="chatSendBtn">Send</button>
            </div>
        </div>
    </div>

    <!-- Chat Widget JavaScript -->
    <script>
        // Chat widget variables
        const toggleBtn = document.getElementById('aiChatToggle');
        const widget = document.getElementById('hybridChatWidget');
        const closeBtn = document.getElementById('chatClose');
        const chatModeBtn = document.getElementById('chatModeBtn');
        const voiceModeBtn = document.getElementById('voiceModeBtn');
        const chatMessages = document.getElementById('chatMessages');
        const voiceModeContainer = document.getElementById('voiceModeContainer');
        const chatInputContainer = document.getElementById('chatInputContainer');
        const chatInput = document.getElementById('chatInput');
        const chatSendBtn = document.getElementById('chatSendBtn');

        let currentMode = 'chat';

        // Toggle widget open/close
        toggleBtn.addEventListener('click', function(e) {
            e.stopPropagation();
            widget.classList.toggle('active');
            toggleBtn.classList.toggle('hidden');
        });

        closeBtn.addEventListener('click', function() {
            widget.classList.remove('active');
            toggleBtn.classList.remove('hidden');

            // Switch back to chat mode when closing
            if (currentMode === 'voice') {
                currentMode = 'chat';
                chatModeBtn.classList.add('active');
                voiceModeBtn.classList.remove('active');
                chatMessages.style.display = 'flex';
                voiceModeContainer.classList.remove('active');
                chatInputContainer.style.display = 'block';
            }
        });

        // Mode switching
        chatModeBtn.addEventListener('click', function() {
            if (currentMode === 'chat') return;
            currentMode = 'chat';
            chatModeBtn.classList.add('active');
            voiceModeBtn.classList.remove('active');
            chatMessages.style.display = 'flex';
            voiceModeContainer.classList.remove('active');
            chatInputContainer.style.display = 'block';
        });

        voiceModeBtn.addEventListener('click', function() {
            if (currentMode === 'voice') return;
            currentMode = 'voice';
            voiceModeBtn.classList.add('active');
            chatModeBtn.classList.remove('active');
            chatMessages.style.display = 'none';
            voiceModeContainer.classList.add('active');
            chatInputContainer.style.display = 'none';
        });

        // Chat functionality
        function addMessage(text, isUser = false) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `chat-message ${isUser ? 'user' : ''}`;

            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.textContent = isUser ? 'üë§' : 'ü§ñ';

            const content = document.createElement('div');
            content.className = 'message-content';
            content.textContent = text;

            messageDiv.appendChild(avatar);
            messageDiv.appendChild(content);

            chatMessages.appendChild(messageDiv);

            // Scroll to bottom
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // Show thinking indicator
        function showThinking() {
            const thinkingDiv = document.createElement('div');
            thinkingDiv.className = 'thinking-indicator';
            thinkingDiv.id = 'thinking-indicator';

            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.textContent = 'ü§ñ';

            const bubbles = document.createElement('div');
            bubbles.className = 'thinking-bubbles';
            bubbles.innerHTML = '<div class="thinking-bubble"></div><div class="thinking-bubble"></div><div class="thinking-bubble"></div>';

            thinkingDiv.appendChild(avatar);
            thinkingDiv.appendChild(bubbles);
            chatMessages.appendChild(thinkingDiv);

            // Scroll to bottom
            chatMessages.scrollTop = chatMessages.scrollHeight;

            return thinkingDiv;
        }

        // Remove thinking indicator
        function hideThinking() {
            const thinking = document.getElementById('thinking-indicator');
            if (thinking) {
                thinking.remove();
            }
        }

        async function sendMessage() {
            const message = chatInput.value.trim();
            if (!message) return;

            // Add user message
            addMessage(message, true);
            chatInput.value = '';

            // Disable input while waiting for response
            chatInput.disabled = true;
            chatSendBtn.disabled = true;

            // Show thinking bubbles
            showThinking();

            // Simulate AI response (you can replace this with actual API call)
            setTimeout(() => {
                hideThinking();

                // Simple responses based on keywords
                let response = "Thanks for your interest in VoiceFlow CRM! ";

                if (message.toLowerCase().includes('price') || message.toLowerCase().includes('cost')) {
                    response += "We have three plans: Starter ($49/mo for 1 agent, 500 min), Pro ($149/mo for 3 agents, 2K min - most popular), and Enterprise (custom pricing). All plans include a 14-day free trial!";
                } else if (message.toLowerCase().includes('demo') || message.toLowerCase().includes('try')) {
                    response += "I'd love to show you a demo! You can try our voice agent right now by clicking the 'Call Me' tab above, or you can start a 14-day free trial at any time.";
                } else if (message.toLowerCase().includes('feature') || message.toLowerCase().includes('how')) {
                    response += "Our AI voice agents can answer calls 24/7, book appointments, qualify leads, and integrate with your CRM. They sound completely human thanks to ElevenLabs technology!";
                } else {
                    response += "I can help you learn about our pricing, features, or set up a demo. What would you like to know?";
                }

                addMessage(response, false);

                // Re-enable input
                chatInput.disabled = false;
                chatSendBtn.disabled = false;
                chatInput.focus();
            }, 1500);
        }

        chatSendBtn.addEventListener('click', sendMessage);
        chatInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // Voice demo via phone call
        const requestCallBtn = document.getElementById('requestCallBtn');
        const demoNameInput = document.getElementById('demoNameInput');
        const demoEmailInput = document.getElementById('demoEmailInput');
        const demoPhoneInput = document.getElementById('demoPhoneInput');
        const voiceStatusMessage = document.getElementById('voiceStatusMessage');
        const btnIcon = document.getElementById('btnIcon');
        const btnText = document.getElementById('btnText');

        // Handle phone call request
        requestCallBtn.addEventListener('click', async () => {
            const name = demoNameInput.value.trim();
            const email = demoEmailInput.value.trim();
            const phoneNumber = demoPhoneInput.value.trim();

            // Validate required fields
            if (!name) {
                voiceStatusMessage.style.display = 'block';
                voiceStatusMessage.style.background = '#fee2e2';
                voiceStatusMessage.style.color = '#dc2626';
                voiceStatusMessage.textContent = '‚ö†Ô∏è Please enter your name';
                demoNameInput.focus();
                return;
            }

            if (!phoneNumber) {
                voiceStatusMessage.style.display = 'block';
                voiceStatusMessage.style.background = '#fee2e2';
                voiceStatusMessage.style.color = '#dc2626';
                voiceStatusMessage.textContent = '‚ö†Ô∏è Please enter your phone number';
                demoPhoneInput.focus();
                return;
            }

            // Validate phone number format (basic check)
            const digitsOnly = phoneNumber.replace(/\D/g, '');
            if (digitsOnly.length < 10) {
                voiceStatusMessage.style.display = 'block';
                voiceStatusMessage.style.background = '#fee2e2';
                voiceStatusMessage.style.color = '#dc2626';
                voiceStatusMessage.textContent = '‚ö†Ô∏è Please enter a valid phone number (at least 10 digits)';
                demoPhoneInput.focus();
                return;
            }

            // Validate email if provided
            if (email && !email.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)) {
                voiceStatusMessage.style.display = 'block';
                voiceStatusMessage.style.background = '#fee2e2';
                voiceStatusMessage.style.color = '#dc2626';
                voiceStatusMessage.textContent = '‚ö†Ô∏è Please enter a valid email address';
                demoEmailInput.focus();
                return;
            }

            // Show loading state
            requestCallBtn.disabled = true;
            btnIcon.textContent = '‚è≥';
            btnText.textContent = 'Calling...';
            voiceStatusMessage.style.display = 'block';
            voiceStatusMessage.style.background = '#dbeafe';
            voiceStatusMessage.style.color = '#1e40af';
            voiceStatusMessage.textContent = `‚è≥ Initiating call to ${name}...`;

            try {
                const response = await fetch('/api/public/voice-demo', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        phoneNumber,
                        name,
                        email: email || undefined
                    })
                });

                const data = await response.json();

                if (response.ok) {
                    // Show success message
                    voiceStatusMessage.style.display = 'block';
                    voiceStatusMessage.style.background = '#dcfce7';
                    voiceStatusMessage.style.color = '#16a34a';
                    voiceStatusMessage.textContent = `‚úÖ Success! ${name}, your phone should ring in 5-10 seconds.`;

                    // Reset form after 5 seconds
                    setTimeout(() => {
                        voiceStatusMessage.style.display = 'none';
                        demoNameInput.value = '';
                        demoEmailInput.value = '';
                        demoPhoneInput.value = '';
                        btnIcon.textContent = 'üìû';
                        btnText.textContent = 'Call Me Now';
                        requestCallBtn.disabled = false;
                    }, 5000);
                } else {
                    throw new Error(data.message || 'Failed to initiate call');
                }
            } catch (error) {
                console.error('Voice demo error:', error);

                // Show error message
                voiceStatusMessage.style.display = 'block';
                voiceStatusMessage.style.background = '#fee2e2';
                voiceStatusMessage.style.color = '#dc2626';
                voiceStatusMessage.textContent = '‚ùå ' + (error.message || 'We\'re having trouble placing your call right now. Please try the text chat or email us at support@remodely.ai');

                // Reset button state on error
                requestCallBtn.disabled = false;
                btnIcon.textContent = 'üìû';
                btnText.textContent = 'Call Me Now';
            }
        });

        // Allow Enter key to submit
        [demoNameInput, demoEmailInput, demoPhoneInput].forEach(input => {
            input.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    requestCallBtn.click();
                }
            });
        });
    </script>
</body>
</html>
